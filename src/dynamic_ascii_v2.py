"""Dynamic ASCII art generation with context awareness."""

import random
from typing import Dict


class DynamicASCIIv2:
    """Context-aware ASCII art generation."""
    
    # ASCII templates by location type and genre
    LOCATION_ASCII = {
        "fantasy": {
            "Village": """
    â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
    â”‚  Village Square     â”‚
    â”‚    ~~~~ â—‡ ~~~~      â”‚
    â”‚   /  \\   /  \\      â”‚
    â”‚  | ðŸ  | | ðŸ  |      â”‚
    â”‚   \\  /   \\  /      â”‚
    â”‚    ~~~~~~~~        â”‚
    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
            """,
            "Forest": """
    â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
    â”‚   Dark Forest       â”‚
    â”‚    ðŸŒ² ðŸŒ² ðŸŒ² ðŸŒ²      â”‚
    â”‚   ðŸŒ²   ðŸŒ²   ðŸŒ²     â”‚
    â”‚  ðŸŒ² â—‡ â—† ðŸŒ²         â”‚
    â”‚   ðŸŒ²   ðŸŒ²   ðŸŒ²     â”‚
    â”‚    ðŸŒ² ï¿½ï¿½ ðŸŒ² ðŸŒ²      â”‚
    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
            """,
            "Ruins": """
    â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
    â”‚  Ancient Ruins      â”‚
    â”‚   â–“â–“â–“     â–“â–“â–“       â”‚
    â”‚  â–“â–“   â—‡   â–“â–“        â”‚
    â”‚  â–“â–“   â•‘   â–“â–“        â”‚
    â”‚   â–“â–“â–“   â–“â–“â–“         â”‚
    â”‚        â–“â–“           â”‚
    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
            """,
            "Cave": """
    â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
    â”‚   Dark Cave         â”‚
    â”‚   ~~~   ~~~  ~~~    â”‚
    â”‚  ~  ~ â—‡  ~  ~       â”‚
    â”‚   ~~~   ~~~  ~~~    â”‚
    â”‚  ~ â—† â—‡ â—† ~          â”‚
    â”‚   ~~~   ~~~  ~~~    â”‚
    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
            """,
        },
        "scifi": {
            "Space Station": """
    â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
    â”‚  Space Station      â”‚
    â”‚  â”Œâ”€â”€â”€â”€  â—‡  â”€â”€â”€â”€â”    â”‚
    â”‚  â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚    â”‚
    â”‚  â”‚ â–‘â–‘ [â—] â–‘â–‘â–‘ â”‚    â”‚
    â”‚  â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚    â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
            """,
            "Research Lab": """
    â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
    â”‚  Research Lab       â”‚
    â”‚  â”Œâ”€â”€â”¬â”€â”€â”¬â”€â”€â”         â”‚
    â”‚  â”‚  â”‚â—‡ â”‚  â”‚         â”‚
    â”‚  â”œâ”€â”€â”¼â”€â”€â”¼â”€â”€â”¤         â”‚
    â”‚  â”‚â–‘â–‘â”‚â–‘â–‘â”‚â–‘â–‘â”‚         â”‚
    â”‚  â””â”€â”€â”´â”€â”€â”´â”€â”€â”˜         â”‚
    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
            """,
            "Engineering": """
    â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
    â”‚  Engineering Bay    â”‚
    â”‚   â•â•â•â•¤â•â•â•â•¤â•â•â•       â”‚
    â”‚      â”‚â—‡  â”‚          â”‚
    â”‚   â•â•â•â•§â•â•â•â•§â•â•â•       â”‚
    â”‚  â—† â—† â–‘â–‘â–‘ â—† â—†        â”‚
    â”‚   â•â•â•â•â•â•â•â•â•         â”‚
    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
            """,
        },
        "detective": {
            "Crime Scene": """
    â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
    â”‚  Crime Scene        â”‚
    â”‚   â•”â•â•â•â•â•â•â•â•—         â”‚
    â”‚  â—‡â”‚  âœ•    â”‚         â”‚
    â”‚   â”‚       â”‚         â”‚
    â”‚   â•šâ•â•â•â•â•â•â•â•         â”‚
    â”‚   â–“â–“â–“ â–“â–“â–“ â–“â–“â–“       â”‚
    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
            """,
            "Police Station": """
    â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
    â”‚  Police Station     â”‚
    â”‚  â”Œâ”€â” â”Œâ”€â” â”Œâ”€â”        â”‚
    â”‚  â”‚ â”‚â—‡â”‚ â”‚ â”‚ â”‚        â”‚
    â”‚  â””â”€â”˜ â””â”€â”˜ â””â”€â”˜        â”‚
    â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•      â”‚
    â”‚  â–’â–’â–’   â–’â–’â–’   â–’â–’â–’    â”‚
    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
            """,
            "Warehouse": """
    â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
    â”‚  Warehouse         â”‚
    â”‚  â–­â–­â–­  â–­â–­â–­  â–­â–­â–­    â”‚
    â”‚  â–­â–­â–­â—‡ â–­â–­â–­  â–­â–­â–­    â”‚
    â”‚  â–­â–­â–­  â–­â–­â–­  â–­â–­â–­    â”‚
    â”‚                     â”‚
    â”‚  â–‘â–‘â–‘  â–‘â–‘â–‘  â–‘â–‘â–‘     â”‚
    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
            """,
        },
        "horror": {
            "Haunted Mansion": """
    â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
    â”‚  Haunted Mansion    â”‚
    â”‚      /\\  /\\        â”‚
    â”‚     /  \\/  \\       â”‚
    â”‚    |â—‡ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ |      â”‚
    â”‚    |  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ |      â”‚
    â”‚    |_________|      â”‚
    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
            """,
            "Graveyard": """
    â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
    â”‚  Dark Graveyard     â”‚
    â”‚   â€   â€   â—‡  â€   â€      â”‚
    â”‚      â€   â€   â€         â”‚
    â”‚   â€   â€      â€   â€      â”‚
    â”‚      â–“â–“â–“â–“â–“â–“â–“        â”‚
    â”‚      â–“â–“â–“â–“â–“â–“â–“        â”‚
    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
            """,
            "Crypt": """
    â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
    â”‚  Ancient Crypt      â”‚
    â”‚  â—‡ â–“â–“â–“ â–“â–“â–“ â–“â–“â–“      â”‚
    â”‚    â–“â–“â–“ â–“â–“â–“ â–“â–“â–“      â”‚
    â”‚    â•”â•â•â•â•â•â•â•â•â•—       â”‚
    â”‚    â•‘ â˜   â˜   â•‘       â”‚
    â”‚    â•šâ•â•â•â•â•â•â•â•â•       â”‚
    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
            """,
        },
    }
    
    @classmethod
    def get_location_ascii(cls, location_name: str, genre: str) -> str:
        """Get ASCII art for a location."""
        genre_ascii = cls.LOCATION_ASCII.get(genre, {})
        
        # Try exact match
        if location_name in genre_ascii:
            return genre_ascii[location_name]
        
        # Try partial match
        for key in genre_ascii.keys():
            if key.lower() in location_name.lower():
                return genre_ascii[key]
        
        # Return generic
        return cls._get_generic_ascii(location_name)
    
    @staticmethod
    def _get_generic_ascii(location_name: str) -> str:
        """Generate generic ASCII for unknown location."""
        return f"""
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  {location_name:<17} â”‚
â”‚                     â”‚
â”‚      â—‡             â”‚
â”‚                     â”‚
â”‚                     â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
        """
    
    @staticmethod
    def get_enemy_ascii(enemy_name: str) -> str:
        """Get ASCII art for an enemy."""
        templates = {
            "Goblin": "  <(')   \n  /| |\\  \n  / \\ \\ ",
            "Dragon": "   /\\_/\\  \n  ( o_o ) \n   \\> </  ",
            "Skeleton": "   .-. \n  (o.o) \n   |=| \n  /| |\\ ",
            "Ghost": "  /\"\"\"\"\\ \n |o  o| \n  \\____/ \n   |  |  ",
            "Vampire": "  /\\___/\\ \n |o   o| \n  |===| \n   |||||  ",
        }
        
        return templates.get(enemy_name, "  ( â—‰ â—‰ )\n  \\  >  /\n   (___) ")
